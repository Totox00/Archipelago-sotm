# This file is generated as part of the compilation of the client
from enum import IntEnum
from itertools import groupby
from typing import NamedTuple, Callable, Set, Optional, Iterable
from BaseClasses import CollectionState
class SotmState:
    items: Set[str]
    def __init__(self):
        self.items = set()
    def has(self, item: str, _player: int, _count: int = 1) -> bool:
        if item.startswith("Any "):
            base = item[4:]
            return base in self.items or any(variant in self.items for variant in base_to_variants[base])
        return item in self.items
    def has_any(self, items: Iterable[str], _player: int) -> bool:
        return any(item in self.items for item in items)
class SotmCategory(IntEnum):
    Scion = 0
    Hero = 1
    Villain = 2
    TeamVillain = 3
    Environment = 4
    Variant = 5
    VillainVariant = 6
    Filler = 7
    Trap = 8
    Event = 9
class FillerType(IntEnum):
    Hero = 0
    Villain = 1
    Other = 2
class FillerData(NamedTuple):
    name: str
    type: FillerType
    name_pos: Optional[str] = None
    name_neg: Optional[str] = None
class SotmSource(IntEnum):
    RookCity = 0
    InfernalRelics = 1
    ShatteredTimelines = 2
    WrathOfTheCosmos = 3
    Vengeance = 4
    VillainsOfTheMultiverse = 5
    Oblivaeon = 6
    Unity = 7
    TheScholar = 8
    Guise = 9
    Stuntman = 10
    Benchmark = 11
    TheVoidGuard = 12
    Ambuscade = 13
    MissInformation = 14
    WagerMaster = 15
    Chokepoint = 16
    SilverGulch1883 = 17
    TheFinalWasteland = 18
    OmnitronIV = 19
    TheCelestialTribunal = 20
    TheCauldron = 21
    CauldronPromos = 22
sources={SotmSource.RookCity:{"name":"Rook City","default":True},SotmSource.InfernalRelics:{"name":"Infernal Relics","default":True},SotmSource.ShatteredTimelines:{"name":"Shattered Timelines","default":True},SotmSource.WrathOfTheCosmos:{"name":"Wrath of the Cosmos","default":True},SotmSource.Vengeance:{"name":"Vengeance","default":True},SotmSource.VillainsOfTheMultiverse:{"name":"Villains of the Multiverse","default":True},SotmSource.Oblivaeon:{"name":"Oblivaeon","default":True},SotmSource.Unity:{"name":"Unity","default":True},SotmSource.TheScholar:{"name":"The Scholar","default":True},SotmSource.Guise:{"name":"Guise","default":True},SotmSource.Stuntman:{"name":"Stuntman","default":True},SotmSource.Benchmark:{"name":"Benchmark","default":True},SotmSource.TheVoidGuard:{"name":"The Void Guard","default":True},SotmSource.Ambuscade:{"name":"Ambuscade","default":True},SotmSource.MissInformation:{"name":"Miss Information","default":True},SotmSource.WagerMaster:{"name":"Wager Master","default":True},SotmSource.Chokepoint:{"name":"Chokepoint","default":True},SotmSource.SilverGulch1883:{"name":"Silver Gulch 1883","default":True},SotmSource.TheFinalWasteland:{"name":"The Final Wasteland","default":True},SotmSource.OmnitronIV:{"name":"Omnitron IV","default":True},SotmSource.TheCelestialTribunal:{"name":"The Celestial Tribunal","default":True},SotmSource.TheCauldron:{"name":"The Cauldron","default":False},SotmSource.CauldronPromos:{"name":"Cauldron Promos","default":False},}
class SotmData(NamedTuple):
    name: str
    sources: list[SotmSource]
    category: SotmCategory
    base: Optional[str] = None
    rule: Optional[Callable[[CollectionState | SotmState, int], bool]] = None
    dependencies: Optional[list[str]] = None
data=[SotmData("Baron Blade",[],SotmCategory.Villain),SotmData("Mad Bomber Baron Blade",[],SotmCategory.VillainVariant,"Baron Blade",lambda state,player:(state.has("Baron Blade",player)) and (state.has("Citizen Dawn",player)),["Baron Blade","Citizen Dawn"]),SotmData("Citizen Dawn",[],SotmCategory.Villain),SotmData("Grand Warlord Voss",[],SotmCategory.Villain),SotmData("Omnitron",[],SotmCategory.Villain),SotmData("Omnitron II",[],SotmCategory.VillainVariant,"Omnitron",lambda state,player:(state.has("Omnitron",player)) and (state.has("Grand Warlord Voss",player)),["Omnitron","Grand Warlord Voss"]),SotmData("Ambuscade",[SotmSource.Ambuscade],SotmCategory.Villain),SotmData("The Chairman",[SotmSource.RookCity],SotmCategory.Villain),SotmData("The Matriarch",[SotmSource.RookCity],SotmCategory.Villain),SotmData("Plague Rat",[SotmSource.RookCity],SotmCategory.Villain),SotmData("Spite",[SotmSource.RookCity],SotmCategory.Villain),SotmData("Spite: Agent of Gloom",[SotmSource.RookCity],SotmCategory.VillainVariant,"Spite",lambda state,player:(state.has("Spite",player)) and (state.has("Gloomweaver",player)),["Spite","Gloomweaver"]),SotmData("Akash\'Bhuta",[SotmSource.InfernalRelics],SotmCategory.Villain),SotmData("Apostate",[SotmSource.InfernalRelics],SotmCategory.Villain),SotmData("The Ennead",[SotmSource.InfernalRelics],SotmCategory.Villain),SotmData("Gloomweaver",[SotmSource.InfernalRelics],SotmCategory.Villain),SotmData("Skinwalker Gloomweaver",[SotmSource.InfernalRelics],SotmCategory.VillainVariant,"Gloomweaver",lambda state,player:(state.has("Spite",player)) and (state.has("Gloomweaver",player)) and (state.has("Spite: Agent of Gloom",player)),["Spite","Gloomweaver","Spite: Agent of Gloom"]),SotmData("Miss Information",[SotmSource.MissInformation],SotmCategory.Villain),SotmData("La Capit√°n",[SotmSource.ShatteredTimelines],SotmCategory.Villain),SotmData("The Dreamer",[SotmSource.ShatteredTimelines],SotmCategory.Villain),SotmData("Iron Legacy",[SotmSource.ShatteredTimelines],SotmCategory.Villain),SotmData("Kismet",[SotmSource.ShatteredTimelines],SotmCategory.Villain),SotmData("Trickster Kismet",[SotmSource.ShatteredTimelines],SotmCategory.VillainVariant,"Kismet",lambda state,player:(state.has("Kismet",player)) and (state.has("The Block",player)) and (state.has("Any K.N.Y.F.E.",player)) and (state.has("Any Argent Adept",player)) and (state.has("Any Fanatic",player)),["Kismet","The Block","K.N.Y.F.E. Rogue Agent","K.N.Y.F.E.","Dark Conductor Argent Adept","Prime Wardens Argent Adept","Xtreme Prime Wardens Argent Adept","Argent Adept","Redeemer Fanatic","Prime Wardens Fanatic","Xtreme Prime Wardens Fanatic","Fanatic"]),SotmData("Deadline",[SotmSource.WrathOfTheCosmos],SotmCategory.Villain),SotmData("Infinitor",[SotmSource.WrathOfTheCosmos],SotmCategory.Villain),SotmData("Heroic Infinitor",[SotmSource.WrathOfTheCosmos],SotmCategory.VillainVariant,"Infinitor",lambda state,player:(state.has("Infinitor",player)) and (state.has("Any Captain Cosmic",player)),["Infinitor","Captain Cosmic Requital","Prime Wardens Captain Cosmic","Xtreme Prime Wardens Captain Cosmic","Captain Cosmic"]),SotmData("Kaargra Warfang",[SotmSource.WrathOfTheCosmos],SotmCategory.Villain),SotmData("Progeny",[SotmSource.WrathOfTheCosmos],SotmCategory.Villain),SotmData("Wager Master",[SotmSource.WagerMaster],SotmCategory.Villain),SotmData("Chokepoint",[SotmSource.Chokepoint],SotmCategory.Villain),SotmData("Anathema",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Evolved Anathema",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Celadroch",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Dendron",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Windcolor Dendron",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Dynamo",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Gray",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("The Infernal Choir",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Menagerie",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("The Mistress of Fate",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Mythos",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Oriphel",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Outlander",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Phase",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("The Ram",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("1929 Ram",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Scream Machine",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Swarm Eater",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Hivemind Swarm Eater",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Tiamat",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Hydra Tiamat",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Tiamat 2199",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Vector",[SotmSource.TheCauldron],SotmCategory.Villain),SotmData("Baron Blade (Team)",[SotmSource.Vengeance],SotmCategory.TeamVillain),SotmData("Ermine",[SotmSource.Vengeance],SotmCategory.TeamVillain),SotmData("Friction",[SotmSource.Vengeance],SotmCategory.TeamVillain),SotmData("Fright Train",[SotmSource.Vengeance],SotmCategory.TeamVillain),SotmData("Proletariat",[SotmSource.Vengeance],SotmCategory.TeamVillain),SotmData("Ambuscade (Team)",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("Biomancer",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("Bugbear",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("La Capitan (Team)",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("Citizens Hammer and Anvil",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("Greazer",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("Miss Information (Team)",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("The Operative",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("Plague Rat (Team)",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("Sergeant Steel",[SotmSource.VillainsOfTheMultiverse],SotmCategory.TeamVillain),SotmData("Absolute Zero",[],SotmCategory.Hero),SotmData("Bunker",[],SotmCategory.Hero),SotmData("Fanatic",[],SotmCategory.Hero),SotmData("Haka",[],SotmCategory.Hero),SotmData("Legacy",[],SotmCategory.Hero),SotmData("Ra",[],SotmCategory.Hero),SotmData("Tachyon",[],SotmCategory.Hero),SotmData("Tempest",[],SotmCategory.Hero),SotmData("The Visionary",[],SotmCategory.Hero),SotmData("Wraith",[],SotmCategory.Hero),SotmData("Unity",[SotmSource.Unity],SotmCategory.Hero),SotmData("Expatriette",[SotmSource.RookCity],SotmCategory.Hero),SotmData("Mister Fixer",[SotmSource.RookCity],SotmCategory.Hero),SotmData("Argent Adept",[SotmSource.InfernalRelics],SotmCategory.Hero),SotmData("Nightmist",[SotmSource.InfernalRelics],SotmCategory.Hero),SotmData("The Scholar",[SotmSource.TheScholar],SotmCategory.Hero),SotmData("Chrono-Ranger",[SotmSource.ShatteredTimelines],SotmCategory.Hero),SotmData("Omnitron-X",[SotmSource.ShatteredTimelines],SotmCategory.Hero),SotmData("Captain Cosmic",[SotmSource.WrathOfTheCosmos],SotmCategory.Hero),SotmData("Sky-Scraper",[SotmSource.WrathOfTheCosmos],SotmCategory.Hero),SotmData("Guise",[SotmSource.Guise],SotmCategory.Hero),SotmData("K.N.Y.F.E.",[SotmSource.Vengeance],SotmCategory.Hero),SotmData("The Naturalist",[SotmSource.Vengeance],SotmCategory.Hero),SotmData("Parse",[SotmSource.Vengeance],SotmCategory.Hero),SotmData("The Sentinels",[SotmSource.Vengeance],SotmCategory.Hero),SotmData("Setback",[SotmSource.Vengeance],SotmCategory.Hero),SotmData("Benchmark",[SotmSource.Benchmark],SotmCategory.Hero),SotmData("Stuntman",[SotmSource.Stuntman],SotmCategory.Hero),SotmData("Dr. Medico",[SotmSource.TheVoidGuard],SotmCategory.Hero),SotmData("The Idealist",[SotmSource.TheVoidGuard],SotmCategory.Hero),SotmData("Mainstay",[SotmSource.TheVoidGuard],SotmCategory.Hero),SotmData("Writhe",[SotmSource.TheVoidGuard],SotmCategory.Hero),SotmData("Akash\'Thriya",[SotmSource.Oblivaeon],SotmCategory.Hero),SotmData("La Comodora",[SotmSource.Oblivaeon],SotmCategory.Hero),SotmData("The Harpy",[SotmSource.Oblivaeon],SotmCategory.Hero),SotmData("Lifeline",[SotmSource.Oblivaeon],SotmCategory.Hero),SotmData("Luminary",[SotmSource.Oblivaeon],SotmCategory.Hero),SotmData("Baccarat",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("The Cricket",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Cypher",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Doc Havoc",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Drift",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Echelon",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Gargoyle",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Gyrosaur",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Impact",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("The Knight",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Lady of the Wood",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Magnificent Mara",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Malichae",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Necro",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Pyre",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Quicksilver",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Starlight",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("The Stranger",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Tango One",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Terminus",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Titan",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Vanish",[SotmSource.TheCauldron],SotmCategory.Hero),SotmData("Insula Primalis",[],SotmCategory.Environment),SotmData("Megalopolis",[],SotmCategory.Environment),SotmData("Ruins of Atlantis",[],SotmCategory.Environment),SotmData("Wagner Mars Base",[],SotmCategory.Environment),SotmData("Silver Gulch 1883",[SotmSource.SilverGulch1883],SotmCategory.Environment),SotmData("Pike Industrial Complex",[SotmSource.RookCity],SotmCategory.Environment),SotmData("Rook City",[SotmSource.RookCity],SotmCategory.Environment),SotmData("Realm of Discord",[SotmSource.InfernalRelics],SotmCategory.Environment),SotmData("Tomb of Anubis",[SotmSource.InfernalRelics],SotmCategory.Environment),SotmData("The Final Wasteland",[SotmSource.TheFinalWasteland],SotmCategory.Environment),SotmData("The Block",[SotmSource.ShatteredTimelines],SotmCategory.Environment),SotmData("Time Cataclysm",[SotmSource.ShatteredTimelines],SotmCategory.Environment),SotmData("Dok\'Thorath Capital",[SotmSource.WrathOfTheCosmos],SotmCategory.Environment),SotmData("The Enclave of the Endlings",[SotmSource.WrathOfTheCosmos],SotmCategory.Environment),SotmData("Omnitron IV",[SotmSource.OmnitronIV],SotmCategory.Environment),SotmData("Freedom Tower",[SotmSource.Vengeance],SotmCategory.Environment),SotmData("Mobile Defense Platform",[SotmSource.Vengeance],SotmCategory.Environment),SotmData("The Court of Blood",[SotmSource.VillainsOfTheMultiverse],SotmCategory.Environment),SotmData("Madame Mittermeier\'s Fantastical Festival of Conundrums and Curiosities",[SotmSource.VillainsOfTheMultiverse],SotmCategory.Environment),SotmData("Magmaria",[SotmSource.VillainsOfTheMultiverse],SotmCategory.Environment),SotmData("The Temple of Zhu Long",[SotmSource.VillainsOfTheMultiverse],SotmCategory.Environment),SotmData("The Celestial Tribunal",[SotmSource.TheCelestialTribunal],SotmCategory.Environment),SotmData("Champion Studios",[SotmSource.Oblivaeon],SotmCategory.Environment),SotmData("Fort Adamant",[SotmSource.Oblivaeon],SotmCategory.Environment),SotmData("Maerynian Refuge",[SotmSource.Oblivaeon],SotmCategory.Environment),SotmData("Mordengrad",[SotmSource.Oblivaeon],SotmCategory.Environment),SotmData("Nexus of the Void",[SotmSource.Oblivaeon],SotmCategory.Environment),SotmData("Blackwood Forest",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Catchwater Harbor 1929",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("The Chasm of a Thousand Nights",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("The Cybersphere",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Dungeons of Terror",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("F.S.C. Continuance Wanderer",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Halberd E.R.C.",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Nightlore Citadel",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Northspar",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Oblask Crater",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("St. Simeon\'s Catacombs",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Superstorm Akela",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Vault 5",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("The Wandering Isle",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("Windmill City",[SotmSource.TheCauldron],SotmCategory.Environment),SotmData("America\'s Greatest Legacy",[],SotmCategory.Variant,"Legacy",lambda state,player:(state.has("Ambuscade",player) or state.has("Ambuscade (Team)",player) and team_villain_count(state,player)) and (state.has("Silver Gulch 1883",player)),["Ambuscade","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel","Silver Gulch 1883"]),SotmData("America\'s Newest Legacy",[],SotmCategory.Variant,"Legacy",lambda state,player:(state.has("Baron Blade",player) or state.has("Mad Bomber Baron Blade",player) or state.has("Baron Blade (Team)",player) and team_villain_count(state,player)) and (state.has("Any Legacy",player)) and (state.has("Wagner Mars Base",player)),["Baron Blade","Mad Bomber Baron Blade","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel","America\'s Greatest Legacy","America\'s Newest Legacy","Freedom Five Legacy","Legacy","Wagner Mars Base"]),SotmData("Dark Visionary",[],SotmCategory.Variant,"The Visionary",lambda state,player:(state.has("Gloomweaver",player)) and (state.has("Any The Visionary",player)),["Gloomweaver","Dark Visionary","The Visionary Unleashed","The Visionary"]),SotmData("The Eternal Haka",[],SotmCategory.Variant,"Haka",lambda state,player:(state.has("Any Haka",player)) and (state.has("The Final Wasteland",player)),["The Eternal Haka","Prime Wardens Haka","Xtreme Prime Wardens Haka","Haka","The Final Wasteland"]),SotmData("G.I. Bunker",[],SotmCategory.Variant,"Bunker",lambda state,player:state.has("Any Bunker",player),["G.I. Bunker","Termi-Nation Bunker","Freedom Six Bunker","Freedom Five Bunker","Siege Breaker Bunker","Bunker"]),SotmData("Ra: Horus of Two Horizons",[],SotmCategory.Variant,"Ra",lambda state,player:(state.has("The Ennead",player)) and (state.has("Any Ra",player)),["The Ennead","Ra: Horus of Two Horizons","Ra: Setting Sun","Ra"]),SotmData("Ra: Setting Sun",[],SotmCategory.Variant,"Ra",lambda state,player:(state.has("The Ennead",player)) and (state.has("Ra: Horus of Two Horizons",player)) and (state.has("Tomb of Anubis",player)),["The Ennead","Ra: Horus of Two Horizons","Tomb of Anubis"]),SotmData("Redeemer Fanatic",[],SotmCategory.Variant,"Fanatic",lambda state,player:(state.has("Apostate",player)) and (state.has("Any Fanatic",player)),["Apostate","Redeemer Fanatic","Prime Wardens Fanatic","Xtreme Prime Wardens Fanatic","Fanatic"]),SotmData("Rook City Wraith",[],SotmCategory.Variant,"Wraith",lambda state,player:state.has("Any Wraith",player),["Rook City Wraith","Freedom Six Wraith","Freedom Five Wraith","Wraith"]),SotmData("The Super-Scientific Tachyon",[],SotmCategory.Variant,"Tachyon",lambda state,player:state.has("Any Tachyon",player),["The Super-Scientific Tachyon","Freedom Six Tachyon","Freedom Five Tachyon","Tachyon"]),SotmData("The Visionary Unleashed",[],SotmCategory.Variant,"The Visionary",lambda state,player:(state.has("The Enclave of the Endlings",player)) and (state.has("Argent Adept",player)) and (state.has("Dark Visionary",player)),["The Enclave of the Endlings","Argent Adept","Dark Visionary"]),SotmData("Captain Cosmic Requital",[SotmSource.WrathOfTheCosmos],SotmCategory.Variant,"Captain Cosmic",lambda state,player:(state.has("Infinitor",player) or state.has("Heroic Infinitor",player)) and (state.has("Captain Cosmic",player)),["Infinitor","Heroic Infinitor","Captain Cosmic"]),SotmData("Chrono-Ranger the Best of Times",[SotmSource.ShatteredTimelines],SotmCategory.Variant,"Chrono-Ranger",lambda state,player:(state.has("Ambuscade",player) or state.has("Ambuscade (Team)",player) and team_villain_count(state,player)) and (state.has("Wagner Mars Base",player)) and (state.has("Any Tachyon",player)) and (state.has("Any Chrono-Ranger",player)),["Ambuscade","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel","Wagner Mars Base","The Super-Scientific Tachyon","Freedom Six Tachyon","Freedom Five Tachyon","Tachyon","Chrono-Ranger the Best of Times","Chrono-Ranger"]),SotmData("Dark Conductor Argent Adept",[SotmSource.InfernalRelics],SotmCategory.Variant,"Argent Adept",lambda state,player:state.has("Any Argent Adept",player),["Dark Conductor Argent Adept","Prime Wardens Argent Adept","Xtreme Prime Wardens Argent Adept","Argent Adept"]),SotmData("Extremist Sky-Scraper",[SotmSource.WrathOfTheCosmos],SotmCategory.Variant,"Sky-Scraper",lambda state,player:(state.has("Baron Blade",player) or state.has("Mad Bomber Baron Blade",player) or state.has("Baron Blade (Team)",player) and team_villain_count(state,player)) and (state.has("Sky-Scraper",player)),["Baron Blade","Mad Bomber Baron Blade","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel","Sky-Scraper"]),SotmData("Omnitron-U",[SotmSource.ShatteredTimelines],SotmCategory.Variant,"Omnitron-X",lambda state,player:(state.has("Omnitron",player)) and (state.has("Omnitron II",player)) and (state.has("Omnitron-X",player)) and (state.has("Any Unity",player)),["Omnitron","Omnitron II","Omnitron-X","Termi-Nation Unity","Freedom Six Unity","Unity"]),SotmData("Santa Guise",[SotmSource.Guise],SotmCategory.Variant,"Guise",lambda state,player:state.has("Any Guise",player),["Santa Guise","Completionist Guise","Guise"]),SotmData("The Scholar of the Infinite",[SotmSource.TheScholar],SotmCategory.Variant,"The Scholar",lambda state,player:(state.has("Gloomweaver",player) or state.has("Skinwalker Gloomweaver",player) or state.has("Apostate",player)) and (state.has("Any The Scholar",player)),["Gloomweaver","Skinwalker Gloomweaver","Apostate","The Scholar of the Infinite","The Scholar"]),SotmData("Action Hero Stuntman",[SotmSource.Stuntman],SotmCategory.Variant,"Stuntman",lambda state,player:(state.has("Ambuscade",player)) and (state.has("The Chairman",player)) and (state.has("Ambuscade (Team)",player) and team_villain_count(state,player)) and (state.has("Pike Industrial Complex",player)) and (state.has("Any The Sentinels",player)),["Ambuscade","The Chairman","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel","Pike Industrial Complex","The Adamant Sentinels","The Sentinels"]),SotmData("Akash\'Thriya: Spirit of the Void",[SotmSource.Oblivaeon],SotmCategory.Variant,"Akash\'Thriya",lambda state,player:(state.has("Nexus of the Void",player)) and (state.has("Any Akash\'Thriya",player)),["Nexus of the Void","Akash\'Thriya: Spirit of the Void","Akash\'Thriya"]),SotmData("Benchmark Supply & Demand",[SotmSource.Benchmark],SotmCategory.Variant,"Benchmark",lambda state,player:(state.has("Ambuscade (Team)",player) and team_villain_count(state,player)) and (state.has("Baron Blade (Team)",player) and team_villain_count(state,player)) and (state.has("Friction",player) and team_villain_count(state,player)) and (state.has("Fright Train",player) and team_villain_count(state,player)) and (state.has("Plague Rat (Team)",player) and team_villain_count(state,player)) and (state.has("Any Benchmark",player)) and (state.has("Any Expatriette",player)) and (state.has("Any Luminary",player)) and (state.has("Any Parse",player)) and (state.has("Any Setback",player)),["Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel","Benchmark Supply & Demand","Benchmark","Dark Watch Expatriette","Urban Warfare Expatriette","Expatriette","Heroic Luminary","Luminary","Parse: Fugue State","Parse","Dark Watch Setback","Setback"]),SotmData("Heroic Luminary",[SotmSource.Oblivaeon],SotmCategory.Variant,"Luminary",lambda state,player:(state.has("Baron Blade",player) or state.has("Mad Bomber Baron Blade",player) or state.has("Baron Blade (Team)",player) and team_villain_count(state,player)) and (state.has("Realm of Discord",player)) and (state.has("Freedom Tower",player)) and (state.has("Megalopolis",player)) and (state.has("Any Luminary",player)) and (state.has("Any Legacy",player)) and (state.has("Any Bunker",player)) and (state.has("Any Absolute Zero",player)) and (state.has("Any Tachyon",player)) and (state.has("Any Wraith",player)),["Baron Blade","Mad Bomber Baron Blade","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel","Realm of Discord","Freedom Tower","Megalopolis","Heroic Luminary","Luminary","America\'s Greatest Legacy","America\'s Newest Legacy","Freedom Five Legacy","Legacy","G.I. Bunker","Termi-Nation Bunker","Freedom Six Bunker","Freedom Five Bunker","Siege Breaker Bunker","Bunker","Termi-Nation Absolute Zero","Freedom Six Absolute Zero","Freedom Five Absolute Zero","Nitro Boost Absolute Zero","Absolute Zero","The Super-Scientific Tachyon","Freedom Six Tachyon","Freedom Five Tachyon","Tachyon","Rook City Wraith","Freedom Six Wraith","Freedom Five Wraith","Wraith"]),SotmData("K.N.Y.F.E. Rogue Agent",[SotmSource.Vengeance],SotmCategory.Variant,"K.N.Y.F.E.",lambda state,player:(state.has("K.N.Y.F.E.",player)) and (state.has("The Block",player)),["K.N.Y.F.E.","The Block"]),SotmData("La Comodora: Curse of the Black Spot",[SotmSource.Oblivaeon],SotmCategory.Variant,"La Comodora",lambda state,player:(state.has("Any La Comodora",player)) and (state.has("Time Cataclysm",player)),["La Comodora: Curse of the Black Spot","La Comodora","Time Cataclysm"]),SotmData("Lifeline Blood Mage",[SotmSource.Oblivaeon],SotmCategory.Variant,"Lifeline",lambda state,player:(state.has("Any Lifeline",player)) and (state.has("The Court of Blood",player)),["Lifeline Blood Mage","Lifeline","The Court of Blood"]),SotmData("Parse: Fugue State",[SotmSource.Vengeance],SotmCategory.Variant,"Parse",lambda state,player:(state.has("Parse",player)) and (state.has("Progeny",player)),["Parse","Progeny"]),SotmData("The Adamant Sentinels",[SotmSource.Vengeance],SotmCategory.Variant,"The Sentinels",lambda state,player:state.has("The Sentinels",player),["The Sentinels"]),SotmData("The Hunted Naturalist",[SotmSource.Vengeance],SotmCategory.Variant,"The Naturalist",lambda state,player:state.has("The Naturalist",player),["The Naturalist"]),SotmData("Termi-Nation Bunker",[],SotmCategory.Variant,"Bunker",lambda state,player:(state.has("Omnitron",player)) and (state.has("Omnitron II",player)) and (state.has("Omnitron IV",player)) and (state.has("Bunker",player)),["Omnitron","Omnitron II","Omnitron IV","Bunker"]),SotmData("Termi-Nation Absolute Zero",[],SotmCategory.Variant,"Absolute Zero",lambda state,player:state.has("Absolute Zero",player),["Absolute Zero"]),SotmData("Termi-Nation Unity",[SotmSource.Unity],SotmCategory.Variant,"Unity",lambda state,player:state.has("Unity",player),["Unity"]),SotmData("Freedom Six Absolute Zero",[],SotmCategory.Variant,"Absolute Zero",lambda state,player:(state.has("Iron Legacy",player)) and (state.has("Absolute Zero",player)),["Iron Legacy","Absolute Zero"]),SotmData("Freedom Six Bunker",[],SotmCategory.Variant,"Bunker",lambda state,player:(state.has("Iron Legacy",player)) and (state.has("Bunker",player)),["Iron Legacy","Bunker"]),SotmData("Freedom Six Tachyon",[],SotmCategory.Variant,"Tachyon",lambda state,player:(state.has("Iron Legacy",player)) and (state.has("Tachyon",player)),["Iron Legacy","Tachyon"]),SotmData("Freedom Six Tempest",[],SotmCategory.Variant,"Tempest",lambda state,player:(state.has("Iron Legacy",player)) and (state.has("Tempest",player)),["Iron Legacy","Tempest"]),SotmData("Freedom Six Wraith",[],SotmCategory.Variant,"Wraith",lambda state,player:(state.has("Iron Legacy",player)) and (state.has("Wraith",player)) and (state.has("The Chairman",player)),["Iron Legacy","Wraith","The Chairman"]),SotmData("Freedom Six Unity",[SotmSource.Unity],SotmCategory.Variant,"Unity",lambda state,player:(state.has("Iron Legacy",player)) and (state.has("Unity",player)),["Iron Legacy","Unity"]),SotmData("Dark Watch Expatriette",[SotmSource.RookCity],SotmCategory.Variant,"Expatriette",lambda state,player:(state.has("Baron Blade",player) or state.has("Mad Bomber Baron Blade",player) or state.has("Baron Blade (Team)",player) and team_villain_count(state,player)) and (state.has("Rook City",player)) and (state.has("Any Expatriette",player)),["Baron Blade","Mad Bomber Baron Blade","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel","Rook City","Dark Watch Expatriette","Urban Warfare Expatriette","Expatriette"]),SotmData("Dark Watch Mister Fixer",[SotmSource.RookCity],SotmCategory.Variant,"Mister Fixer",lambda state,player:(state.has("The Chairman",player)) and (state.has("Any Mister Fixer",player)),["The Chairman","Dark Watch Mister Fixer","Enlightened Mister Fixer","Northern Wind Mister Fixer","Mister Fixer"]),SotmData("Dark Watch Nightmist",[SotmSource.InfernalRelics],SotmCategory.Variant,"Nightmist",lambda state,player:(state.has("Any Nightmist",player)) and (state.has("Realm of Discord",player)) and (state.has("Any Expatriette",player)),["Dark Watch Nightmist","Nightmist","Realm of Discord","Dark Watch Expatriette","Urban Warfare Expatriette","Expatriette"]),SotmData("Dark Watch Setback",[SotmSource.Vengeance],SotmCategory.Variant,"Setback",lambda state,player:(state.has("The Chairman",player)) and (state.has("Rook City",player)) and (state.has("Dark Watch Expatriette",player)) and (state.has("Dark Watch Mister Fixer",player)) and (state.has("Dark Watch Nightmist",player)) and (state.has("Setback",player)),["The Chairman","Rook City","Dark Watch Expatriette","Dark Watch Mister Fixer","Dark Watch Nightmist","Setback"]),SotmData("Dark Watch Harpy",[SotmSource.Oblivaeon],SotmCategory.Variant,"The Harpy",lambda state,player:(state.has("Gloomweaver",player) or state.has("Skinwalker Gloomweaver",player)) and (state.has("Any The Harpy",player)) and (state.has("Realm of Discord",player)),["Gloomweaver","Skinwalker Gloomweaver","Dark Watch Harpy","The Harpy","Realm of Discord"]),SotmData("Prime Wardens Argent Adept",[SotmSource.InfernalRelics],SotmCategory.Variant,"Argent Adept",lambda state,player:(state.has("Akash\'Bhuta",player)) and (state.has("Argent Adept",player)) and (state.has("Captain Cosmic",player)) and (state.has("Haka",player)) and (state.has("Tempest",player)) and (state.has("Redeemer Fanatic",player)),["Akash\'Bhuta","Argent Adept","Captain Cosmic","Haka","Tempest","Redeemer Fanatic"]),SotmData("Prime Wardens Captain Cosmic",[SotmSource.WrathOfTheCosmos],SotmCategory.Variant,"Captain Cosmic",lambda state,player:(state.has("Prime Wardens Argent Adept",player)) and (state.has("Captain Cosmic",player)) and (state.has("Dok\'Thorath Capital",player)),["Prime Wardens Argent Adept","Captain Cosmic","Dok\'Thorath Capital"]),SotmData("Prime Wardens Fanatic",[],SotmCategory.Variant,"Fanatic",lambda state,player:(state.has("Prime Wardens Argent Adept",player)) and (state.has("Fanatic",player) or state.has("Redeemer Fanatic",player)) and (state.has("Apostate",player)),["Prime Wardens Argent Adept","Fanatic","Redeemer Fanatic","Apostate"]),SotmData("Prime Wardens Haka",[],SotmCategory.Variant,"Haka",lambda state,player:(state.has("Prime Wardens Argent Adept",player)) and (state.has("Haka",player)) and (state.has("Ambuscade",player) or state.has("Ambuscade (Team)",player) and team_villain_count(state,player)),["Prime Wardens Argent Adept","Haka","Ambuscade","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel"]),SotmData("Prime Wardens Tempest",[],SotmCategory.Variant,"Tempest",lambda state,player:(state.has("Prime Wardens Argent Adept",player)) and (state.has("Tempest",player)),["Prime Wardens Argent Adept","Tempest"]),SotmData("Xtreme Prime Wardens Argent Adept",[SotmSource.InfernalRelics],SotmCategory.Variant,"Argent Adept",lambda state,player:(state.has("Argent Adept",player)) and (state.has("Insula Primalis",player)),["Argent Adept","Insula Primalis"]),SotmData("Xtreme Prime Wardens Tempest",[],SotmCategory.Variant,"Tempest",lambda state,player:(state.has("Tempest",player)) and (state.has("Dok\'Thorath Capital",player)),["Tempest","Dok\'Thorath Capital"]),SotmData("Xtreme Prime Wardens Captain Cosmic",[SotmSource.WrathOfTheCosmos],SotmCategory.Variant,"Captain Cosmic",lambda state,player:(state.has("Captain Cosmic",player)) and (state.has("The Enclave of the Endlings",player)),["Captain Cosmic","The Enclave of the Endlings"]),SotmData("Xtreme Prime Wardens Fanatic",[],SotmCategory.Variant,"Fanatic",lambda state,player:(state.has("Fanatic",player)) and (state.has("The Court of Blood",player)),["Fanatic","The Court of Blood"]),SotmData("Xtreme Prime Wardens Haka",[],SotmCategory.Variant,"Haka",lambda state,player:(state.has("Haka",player)) and (state.has("Magmaria",player)),["Haka","Magmaria"]),SotmData("Freedom Five Absolute Zero",[],SotmCategory.Variant,"Absolute Zero",lambda state,player:(state.has("Progeny",player)) and (state.has("Rook City",player)) and (state.has("Megalopolis",player)) and (state.has("Prime Wardens Argent Adept",player)) and (state.has("Prime Wardens Captain Cosmic",player)) and (state.has("Prime Wardens Fanatic",player)) and (state.has("Prime Wardens Haka",player)) and (state.has("Prime Wardens Tempest",player)) and (state.has("Dark Watch Expatriette",player)) and (state.has("Dark Watch Harpy",player)) and (state.has("Dark Watch Mister Fixer",player)) and (state.has("Dark Watch Nightmist",player)) and (state.has("Dark Watch Setback",player)) and (state.has("Legacy",player)) and (state.has("Bunker",player)) and (state.has("Absolute Zero",player)) and (state.has("Tachyon",player)) and (state.has("Wraith",player)),["Progeny","Rook City","Megalopolis","Prime Wardens Argent Adept","Prime Wardens Captain Cosmic","Prime Wardens Fanatic","Prime Wardens Haka","Prime Wardens Tempest","Dark Watch Expatriette","Dark Watch Harpy","Dark Watch Mister Fixer","Dark Watch Nightmist","Dark Watch Setback","Legacy","Bunker","Absolute Zero","Tachyon","Wraith"]),SotmData("Freedom Five Bunker",[],SotmCategory.Variant,"Bunker",lambda state,player:(state.has("Progeny",player)) and (state.has("Rook City",player)) and (state.has("Megalopolis",player)) and (state.has("Prime Wardens Argent Adept",player)) and (state.has("Prime Wardens Captain Cosmic",player)) and (state.has("Prime Wardens Fanatic",player)) and (state.has("Prime Wardens Haka",player)) and (state.has("Prime Wardens Tempest",player)) and (state.has("Dark Watch Expatriette",player)) and (state.has("Dark Watch Harpy",player)) and (state.has("Dark Watch Mister Fixer",player)) and (state.has("Dark Watch Nightmist",player)) and (state.has("Dark Watch Setback",player)) and (state.has("Legacy",player)) and (state.has("Bunker",player)) and (state.has("Absolute Zero",player)) and (state.has("Tachyon",player)) and (state.has("Wraith",player)),["Progeny","Rook City","Megalopolis","Prime Wardens Argent Adept","Prime Wardens Captain Cosmic","Prime Wardens Fanatic","Prime Wardens Haka","Prime Wardens Tempest","Dark Watch Expatriette","Dark Watch Harpy","Dark Watch Mister Fixer","Dark Watch Nightmist","Dark Watch Setback","Legacy","Bunker","Absolute Zero","Tachyon","Wraith"]),SotmData("Freedom Five Wraith",[],SotmCategory.Variant,"Wraith",lambda state,player:(state.has("Progeny",player)) and (state.has("Rook City",player)) and (state.has("Megalopolis",player)) and (state.has("Prime Wardens Argent Adept",player)) and (state.has("Prime Wardens Captain Cosmic",player)) and (state.has("Prime Wardens Fanatic",player)) and (state.has("Prime Wardens Haka",player)) and (state.has("Prime Wardens Tempest",player)) and (state.has("Dark Watch Expatriette",player)) and (state.has("Dark Watch Harpy",player)) and (state.has("Dark Watch Mister Fixer",player)) and (state.has("Dark Watch Nightmist",player)) and (state.has("Dark Watch Setback",player)) and (state.has("Legacy",player)) and (state.has("Bunker",player)) and (state.has("Absolute Zero",player)) and (state.has("Tachyon",player)) and (state.has("Wraith",player)),["Progeny","Rook City","Megalopolis","Prime Wardens Argent Adept","Prime Wardens Captain Cosmic","Prime Wardens Fanatic","Prime Wardens Haka","Prime Wardens Tempest","Dark Watch Expatriette","Dark Watch Harpy","Dark Watch Mister Fixer","Dark Watch Nightmist","Dark Watch Setback","Legacy","Bunker","Absolute Zero","Tachyon","Wraith"]),SotmData("Freedom Five Tachyon",[],SotmCategory.Variant,"Tachyon",lambda state,player:(state.has("Progeny",player)) and (state.has("Rook City",player)) and (state.has("Megalopolis",player)) and (state.has("Prime Wardens Argent Adept",player)) and (state.has("Prime Wardens Captain Cosmic",player)) and (state.has("Prime Wardens Fanatic",player)) and (state.has("Prime Wardens Haka",player)) and (state.has("Prime Wardens Tempest",player)) and (state.has("Dark Watch Expatriette",player)) and (state.has("Dark Watch Harpy",player)) and (state.has("Dark Watch Mister Fixer",player)) and (state.has("Dark Watch Nightmist",player)) and (state.has("Dark Watch Setback",player)) and (state.has("Legacy",player)) and (state.has("Bunker",player)) and (state.has("Absolute Zero",player)) and (state.has("Tachyon",player)) and (state.has("Wraith",player)),["Progeny","Rook City","Megalopolis","Prime Wardens Argent Adept","Prime Wardens Captain Cosmic","Prime Wardens Fanatic","Prime Wardens Haka","Prime Wardens Tempest","Dark Watch Expatriette","Dark Watch Harpy","Dark Watch Mister Fixer","Dark Watch Nightmist","Dark Watch Setback","Legacy","Bunker","Absolute Zero","Tachyon","Wraith"]),SotmData("Freedom Five Legacy",[],SotmCategory.Variant,"Legacy",lambda state,player:(state.has("Progeny",player)) and (state.has("Rook City",player)) and (state.has("Megalopolis",player)) and (state.has("Prime Wardens Argent Adept",player)) and (state.has("Prime Wardens Captain Cosmic",player)) and (state.has("Prime Wardens Fanatic",player)) and (state.has("Prime Wardens Haka",player)) and (state.has("Prime Wardens Tempest",player)) and (state.has("Dark Watch Expatriette",player)) and (state.has("Dark Watch Harpy",player)) and (state.has("Dark Watch Mister Fixer",player)) and (state.has("Dark Watch Nightmist",player)) and (state.has("Dark Watch Setback",player)) and (state.has("Legacy",player)) and (state.has("Bunker",player)) and (state.has("Absolute Zero",player)) and (state.has("Tachyon",player)) and (state.has("Wraith",player)),["Progeny","Rook City","Megalopolis","Prime Wardens Argent Adept","Prime Wardens Captain Cosmic","Prime Wardens Fanatic","Prime Wardens Haka","Prime Wardens Tempest","Dark Watch Expatriette","Dark Watch Harpy","Dark Watch Mister Fixer","Dark Watch Nightmist","Dark Watch Setback","Legacy","Bunker","Absolute Zero","Tachyon","Wraith"]),SotmData("Super Sentai Idealist",[SotmSource.TheVoidGuard],SotmCategory.Variant,"The Idealist",lambda state,player:state.has("Any The Idealist",player),["Super Sentai Idealist","The Idealist"]),SotmData("Dr. Medico Malpractice",[SotmSource.TheVoidGuard],SotmCategory.Variant,"Dr. Medico",lambda state,player:(state.has("Any Dr. Medico",player)) and (state.has("Ambuscade (Team)",player) and team_villain_count(state,player)),["Dr. Medico Malpractice","Dr. Medico","Baron Blade (Team)","Ermine","Friction","Fright Train","Proletariat","Ambuscade (Team)","Biomancer","Bugbear","La Capitan (Team)","Citizens Hammer and Anvil","Greazer","Miss Information (Team)","The Operative","Plague Rat (Team)","Sergeant Steel"]),SotmData("Cosmic Inventor Writhe",[SotmSource.TheVoidGuard],SotmCategory.Variant,"Writhe",lambda state,player:state.has("Any Writhe",player),["Cosmic Inventor Writhe","Writhe"]),SotmData("Road Warrior Mainstay",[SotmSource.TheVoidGuard],SotmCategory.Variant,"Mainstay",lambda state,player:state.has("Any Mainstay",player),["Road Warrior Mainstay","Mainstay"]),SotmData("Completionist Guise",[SotmSource.Guise],SotmCategory.Variant,"Guise"),SotmData("Baccarat Ace of Swords",[SotmSource.TheCauldron],SotmCategory.Variant,"Baccarat"),SotmData("Baccarat Ace of Sorrows",[SotmSource.TheCauldron],SotmCategory.Variant,"Baccarat"),SotmData("Baccarat 1929",[SotmSource.TheCauldron],SotmCategory.Variant,"Baccarat"),SotmData("First Response Cricket",[SotmSource.TheCauldron],SotmCategory.Variant,"The Cricket"),SotmData("The Cricket Renegade",[SotmSource.TheCauldron],SotmCategory.Variant,"The Cricket"),SotmData("The Cricket Wasteland Ronin",[SotmSource.TheCauldron],SotmCategory.Variant,"The Cricket"),SotmData("First Response Cypher",[SotmSource.TheCauldron],SotmCategory.Variant,"Cypher"),SotmData("Cypher Swarming Protocol",[SotmSource.TheCauldron],SotmCategory.Variant,"Cypher"),SotmData("First Response Doc Havoc",[SotmSource.TheCauldron],SotmCategory.Variant,"Doc Havoc"),SotmData("Doc Havoc 2199",[SotmSource.TheCauldron],SotmCategory.Variant,"Doc Havoc"),SotmData("Drift Through the Breach",[SotmSource.TheCauldron],SotmCategory.Variant,"Drift"),SotmData("Drift 1929 & 2199",[SotmSource.TheCauldron],SotmCategory.Variant,"Drift"),SotmData("Drift 1609",[SotmSource.TheCauldron],SotmCategory.Variant,"Drift"),SotmData("Drift 1789",[SotmSource.TheCauldron],SotmCategory.Variant,"Drift"),SotmData("Test Subject Drift",[SotmSource.TheCauldron],SotmCategory.Variant,"Drift"),SotmData("First Response Echelon",[SotmSource.TheCauldron],SotmCategory.Variant,"Echelon"),SotmData("Echelon 2199",[SotmSource.TheCauldron],SotmCategory.Variant,"Echelon"),SotmData("Gargoyle Wasteland Ronin",[SotmSource.TheCauldron],SotmCategory.Variant,"Gargoyle"),SotmData("Gargoyle 2199",[SotmSource.TheCauldron],SotmCategory.Variant,"Gargoyle"),SotmData("Gargoyle Dragon Ranger",[SotmSource.TheCauldron],SotmCategory.Variant,"Gargoyle"),SotmData("Gargoyle Infiltrator",[SotmSource.TheCauldron],SotmCategory.Variant,"Gargoyle"),SotmData("Gyrosaur Speed Demon",[SotmSource.TheCauldron],SotmCategory.Variant,"Gyrosaur"),SotmData("Gyrosaur Renegade",[SotmSource.TheCauldron],SotmCategory.Variant,"Gyrosaur"),SotmData("Captain Gyrosaur",[SotmSource.TheCauldron],SotmCategory.Variant,"Gyrosaur"),SotmData("Impact Renegade",[SotmSource.TheCauldron],SotmCategory.Variant,"Impact"),SotmData("Impact Wasteland Ronin",[SotmSource.TheCauldron],SotmCategory.Variant,"Impact"),SotmData("The Fair Knight",[SotmSource.TheCauldron],SotmCategory.Variant,"The Knight"),SotmData("The Berserker Knight",[SotmSource.TheCauldron],SotmCategory.Variant,"The Knight"),SotmData("The Knight 1929",[SotmSource.TheCauldron],SotmCategory.Variant,"The Knight"),SotmData("The Knights Wasteland Ronin",[SotmSource.TheCauldron],SotmCategory.Variant,"The Knight"),SotmData("Lady of the Wood Season of Change",[SotmSource.TheCauldron],SotmCategory.Variant,"Lady of the Wood"),SotmData("Ministry of Strategic Science Lady of the Wood",[SotmSource.TheCauldron],SotmCategory.Variant,"Lady of the Wood"),SotmData("Lady of the Wood 2199",[SotmSource.TheCauldron],SotmCategory.Variant,"Lady of the Wood"),SotmData("Ministry of Strategic Science Magnificent Mara",[SotmSource.TheCauldron],SotmCategory.Variant,"Magnificent Mara"),SotmData("Magnificent Mara 1929",[SotmSource.TheCauldron],SotmCategory.Variant,"Magnificent Mara"),SotmData("Shardmaster Malichae",[SotmSource.TheCauldron],SotmCategory.Variant,"Malichae"),SotmData("Ministry of Strategic Science Malichae",[SotmSource.TheCauldron],SotmCategory.Variant,"Malichae"),SotmData("Necro Warden of Chaos",[SotmSource.TheCauldron],SotmCategory.Variant,"Necro"),SotmData("Necro 1929",[SotmSource.TheCauldron],SotmCategory.Variant,"Necro"),SotmData("Necro Last of the Forgotten Order",[SotmSource.TheCauldron],SotmCategory.Variant,"Necro"),SotmData("The Unstable Pyre",[SotmSource.TheCauldron],SotmCategory.Variant,"Pyre"),SotmData("Pyre Wasteland Ronin",[SotmSource.TheCauldron],SotmCategory.Variant,"Pyre"),SotmData("Pyre Expedition Oblask",[SotmSource.TheCauldron],SotmCategory.Variant,"Pyre"),SotmData("The Uncanny Quicksilver",[SotmSource.TheCauldron],SotmCategory.Variant,"Quicksilver"),SotmData("Quicksilver Renegade",[SotmSource.TheCauldron],SotmCategory.Variant,"Quicksilver"),SotmData("Harbinger Quicksilver",[SotmSource.TheCauldron],SotmCategory.Variant,"Quicksilver"),SotmData("Starlight Genesis",[SotmSource.TheCauldron],SotmCategory.Variant,"Starlight"),SotmData("Nightlore Council Starlight",[SotmSource.TheCauldron],SotmCategory.Variant,"Starlight"),SotmData("Starlight Area-51",[SotmSource.TheCauldron],SotmCategory.Variant,"Starlight"),SotmData("The Runecarved Stranger",[SotmSource.TheCauldron],SotmCategory.Variant,"The Stranger"),SotmData("The Stranger 1929",[SotmSource.TheCauldron],SotmCategory.Variant,"The Stranger"),SotmData("The Stranger Wasteland Ronin",[SotmSource.TheCauldron],SotmCategory.Variant,"The Stranger"),SotmData("The Stranger in the Corn",[SotmSource.TheCauldron],SotmCategory.Variant,"The Stranger"),SotmData("Tango One Ghost Ops",[SotmSource.TheCauldron],SotmCategory.Variant,"Tango One"),SotmData("Tango One 1929",[SotmSource.TheCauldron],SotmCategory.Variant,"Tango One"),SotmData("Tango One Creed of the Sniper",[SotmSource.TheCauldron],SotmCategory.Variant,"Tango One"),SotmData("Ministry of Strategic Science Terminus",[SotmSource.TheCauldron],SotmCategory.Variant,"Terminus"),SotmData("Terminus 2199",[SotmSource.TheCauldron],SotmCategory.Variant,"Terminus"),SotmData("Ministry of Strategic Science Titan",[SotmSource.TheCauldron],SotmCategory.Variant,"Titan"),SotmData("Titan 2199",[SotmSource.TheCauldron],SotmCategory.Variant,"Titan"),SotmData("Titan Oni",[SotmSource.TheCauldron],SotmCategory.Variant,"Titan"),SotmData("First Response Vanish",[SotmSource.TheCauldron],SotmCategory.Variant,"Vanish"),SotmData("Vanish 1929",[SotmSource.TheCauldron],SotmCategory.Variant,"Vanish"),SotmData("Vanish Tomb of Thieves",[SotmSource.TheCauldron],SotmCategory.Variant,"Vanish"),SotmData("Urban Warfare Expatriette",[SotmSource.CauldronPromos,SotmSource.RookCity],SotmCategory.Variant,"Expatriette"),SotmData("Siege Breaker Bunker",[SotmSource.CauldronPromos],SotmCategory.Variant,"Bunker"),SotmData("Nitro Boost Absolute Zero",[SotmSource.CauldronPromos],SotmCategory.Variant,"Absolute Zero"),SotmData("Enlightened Mister Fixer",[SotmSource.CauldronPromos,SotmSource.RookCity],SotmCategory.Variant,"Mister Fixer"),SotmData("Northern Wind Mister Fixer",[SotmSource.CauldronPromos,SotmSource.RookCity],SotmCategory.Variant,"Mister Fixer"),SotmData("Omnitron-XI",[SotmSource.CauldronPromos,SotmSource.ShatteredTimelines],SotmCategory.Variant,"Omnitron-X"),]
filler=[FillerData("StartHandsize",FillerType.Hero,name_pos="Starting Handsize +1",name_neg="Starting Handsize -1"),FillerData("HeroHp",FillerType.Hero,name_pos="Hero Toughness 1",name_neg="Hero Fragility 1"),FillerData("Mulligan",FillerType.Hero,name_pos="1 Mulligan"),FillerData("HeroDamageDealt",FillerType.Hero,name_pos="Hero [TYPE]Strength 1",name_neg="Hero [TYPE]Weakness 1"),FillerData("HeroDamageTaken",FillerType.Hero,name_pos="Hero [TYPE]Fortification 1",name_neg="Hero [TYPE]Vulnerability 1"),FillerData("HeroCardPlay",FillerType.Hero,name_pos="Haste 1",name_neg="Slowness 1"),FillerData("HeroPower",FillerType.Hero,name_pos="Power use +1",name_neg="Power use -1"),FillerData("HeroCardDraw",FillerType.Hero,name_pos="Ingenuity 1",name_neg="Stupidity 1"),FillerData("VillainHp",FillerType.Villain,name_pos="Villain Fragility 1",name_neg="Villain Toughness 1"),FillerData("VillainDamageDealt",FillerType.Villain,name_pos="Villain [TYPE]Weakness 1",name_neg="Villain [TYPE]Strength 1"),FillerData("VillainDamageTaken",FillerType.Villain,name_pos="Villain [TYPE]Vulnerability 1",name_neg="Villain [TYPE]Fortification 1"),FillerData("VillainCardPlays",FillerType.Villain,name_pos="Horde -1",name_neg="Horde +1"),FillerData("VillainStartCardPlays",FillerType.Villain,name_neg="Rapid Deployment 1"),FillerData("HeroCannotPlay",FillerType.Other,name_neg="Slowing Assault 1"),FillerData("HeroCannotPower",FillerType.Other,name_neg="Power Assault 1"),FillerData("HeroCannotDraw",FillerType.Other,name_neg="Mental Assault 1"),FillerData("Scion", FillerType.Other, name_pos="Scion of Oblivaeon")]
damage_types = ["Cold ","Energy ","Fire ","Infernal ","Lightning ","Melee ","Projectile ","Psychic ","Radiant ","Sonic ","Toxic "]
difficulties = ["Normal", "Advanced", "Challenge", "Ultimate"]
base_to_variants: dict[str, list[str]] = {
    key: [d.name for d in group] for key, group in
    groupby(sorted((d for d in data if d.category == SotmCategory.Variant), key=lambda d: d.base), key=lambda d: d.base)
}
def team_villain_count(state: CollectionState | SotmState, player: int) -> bool:
    return [state.has(d.name, player) for d in data if d.category == SotmCategory.TeamVillain].count(True) >= 3
def general_access_rule(state: CollectionState, player: int):
    return [state.has(f"Any {d.name}", player) for d in data if d.category == SotmCategory.Hero].count(True) >= 3 and True in (state.has(d.name, player) for d in data if d.category == SotmCategory.Environment) and (True in (state.has(d.name, player) for d in data if d.category == SotmCategory.Villain or d.category == SotmCategory.VillainVariant) or team_villain_count(state, player))
